!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(require("underscore"),require("underscore-contrib"),require("underscore.string"),require("jquery"),require("backbone"),require("backbone.radio"),require("backbone-associations"),require("backbone.marionette"),require("i18next"),require("numeral"),require("moment"),require("moment-range"),require("moment-timezone")):"function"==typeof define&&define.amd?define(["underscore","underscore-contrib","underscore.string","jquery","backbone","backbone.radio","backbone-associations","backbone.marionette","i18next","numeral","moment","moment-range","moment-timezone"],e):t.Marionettist=e(t._,t.underscoreContrib,t.s,t.$,t.Backbone,t.Backbone.Radio,t.backboneAssociations,t.Marionette,t.i18next,t.numeral,t.moment,t.momentRange,t.momentTimezone)}(this,function(t,e,r,n,o,i,s,u,p,c,l,a,f){"use strict";t="default"in t?t.default:t,r="default"in r?r.default:r,n="default"in n?n.default:n,o="default"in o?o.default:o,u="default"in u?u.default:u,p="default"in p?p.default:p,c="default"in c?c.default:c,l="default"in l?l.default:l;var h;h=u.extend(),h.Backbone=o,h.Marionette=u,h._=t,h.$=n,h.s=r,h.I18n=p,h.numeral=c,h.moment=l;var y,_=h,d=function(t,e){function r(){this.constructor=t}for(var n in e)g.call(e,n)&&(t[n]=e[n]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t},g={}.hasOwnProperty;y=function(t){function e(){this.stage="development"}return d(e,t),e.prototype.isDevelopment=function(){return"development"===this.stage},e.prototype.isProduction=function(){return"production"===this.stage},e.prototype.getLocale=function(){return _.I18n.language},e.prototype.setStage=function(t){var e;return e=this.stage,this.stage=t,this.triggerMethod("change:stage",e,t)},e.prototype.getStage=function(){return this.stage},e.prototype.setLocale=function(t,e){var r;return null==t&&(t="en"),null==e&&(e=null),r=this.getLocale(),_.I18n.changeLanguage(t,function(n){if(_.channels.publish("marionettist","change:locale",{currentLocale:t,oldLocale:r}),_._.isFunction(e))return e(n)})},e}(_.Object);var w,b=y,m=function(t,e){function r(){this.constructor=t}for(var n in e)v.call(e,n)&&(t[n]=e[n]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t},v={}.hasOwnProperty;w=function(t){function e(){}return m(e,t),e.prototype.request=function(t,e,r){return null==t&&(t="global"),null==e&&(e=""),null==r&&(r={}),_.Backbone.Radio.channel(t).request(e,r)},e.prototype.replyOnce=function(t,e,r){var n;return null==t&&(t="global"),null==e&&(e=""),n=_.Backbone.Radio.channel(t),_._.isFunction(r)?n.replyOnce(e,r):n.replyOnce(r)},e.prototype.reply=function(t,e,r){var n;return null==t&&(t="global"),null==e&&(e=""),n=_.Backbone.Radio.channel(t),_._.isFunction(r)?n.reply(e,r):n.reply(r)},e.prototype.publish=function(t,e,r){return null==t&&(t="global"),null==e&&(e=""),null==r&&(r={}),_.Backbone.Radio.channel(t).trigger(e,r)},e.prototype.subscribe=function(t,e,r){return null==t&&(t="global"),null==e&&(e=""),_.Backbone.Radio.channel(t).on(e,r)},e}(_.Object);var A,O=w,F=function(t,e){function r(){this.constructor=t}for(var n in e)R.call(e,n)&&(t[n]=e[n]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t},R={}.hasOwnProperty;A=function(t){function e(){}return F(e,t),e.prototype.refreshRoute=function(t){return null==t&&(t=this.getCurrentRoute()),_.Backbone.history.loadUrl(t)},e.prototype.navigateTo=function(t,e){return null==e&&(e={}),_.Backbone.history.navigate(t,e)},e.prototype.getCurrentRoute=function(){var t;return t=_.Backbone.history.fragment,_._.isEmpty(t)?null:t},e.prototype.startHistory=function(t){if(null==t&&(t={}),null!=_.Backbone.history)return _.Backbone.history.start(t)},e}(_.Object);var k,C=A;k=function(){function t(){}return t.prototype.debug=!1,t.prototype.lookupPaths=[],t.prototype.engine=function(){var t;return t={},"undefined"!=typeof HAML&&null!==HAML&&(t=HAML),"undefined"!=typeof JST&&null!==JST&&(t=JST),t},t.prototype.render=function(t,e,r){var n,o;return null==t&&(t=""),null==e&&(e={}),null==r&&(r={}),o="",n=this.engine,_._.isFunction(t)&&(n=n()),null!=r.defaultTemplate&&(o=r.defaultTemplate),null!=n&&_._.isFunction(n[t])&&(o=n[t](e)),o},t}();var M,P=k,j=function(t,e){function r(){this.constructor=t}for(var n in e)x.call(e,n)&&(t[n]=e[n]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t},x={}.hasOwnProperty;M=function(t){function e(){this.templates=new P}return j(e,t),e}(_.Object);var B,V=M;B={render:function(t,e){var r;if(Marionettist._.isFunction(t))return t(e);if(t!==!1){if(r=this.getTemplate(t),!Marionettist._.isFunction(r))throw"Template "+t+" was not found!";return r(e)}},getTemplate:function(t){var e,r,n,o,i,s,u,p,c;if(u=Marionettist.config.templates.lookupPaths,Marionettist._.isFunction(u)&&(u=u()),!Marionettist._.isArray(u))throw"lookupPaths most be an array";for(c=[t],0===u.length&&(u=[""]),e=0,n=u.length;e<n;e++)for(i=u[e],r=0,o=c.length;r<o;r++)if(p=c[r],s=this.findLookupPath(i+p,t),null!=s)return s},findLookupPath:function(t,e){var r,n;if(r=Marionettist.config.templates.engine,Marionettist._.isFunction(r)&&(r=r()),n=r[t],Marionettist.config.templates.debug===!0&&Marionettist.logger.info("Looking template: "+e+" in '"+t+"'"),n)return n},withTemplate:function(t){var e;if(null!=t)return e=t.split("/"),e.splice(-1,0,"templates"),e.join("/")}};var q,T=B,E=function(t,e){function r(){this.constructor=t}for(var n in e)L.call(e,n)&&(t[n]=e[n]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t},L={}.hasOwnProperty,D=[].slice;q=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return E(e,t),e.prototype.getValue=function(t,e,r){return _._.isFunction(t)&&(t=r?t.apply(e,r):t.call(e)),t},e.prototype.pathFor=function(t){var e;return e="",e="#"+t},e.prototype.waitFor=function(t,e){switch(null==e&&(e={}),!1){case"bluebird"!==e.promiseType:return this._waitForBluebird(t,e);default:return this._waitForAjax(t,e)}},e.prototype._waitForAjax=function(t,e){var r,n;return null==t&&(t=[]),null==e&&(e={}),n=[],n=_._.chain([t]).flatten().value(),n.length>0?(r=_.$).when.apply(r,n).then(function(){var t;if(t=1<=arguments.length?D.call(arguments,0):[],_._.isFunction(e.success))return e.success.apply(e,t)},function(){var t;if(t=1<=arguments.length?D.call(arguments,0):[],_._.isFunction(e.error))return e.error.apply(e,t)}):_._.isFunction(e.success)?e.success(null):void 0},e.prototype._waitForBluebird=function(t,e){return null==e&&(e={}),t=_._.chain([t]).flatten().value(),t.length>0?Promise.all(t.map(function(t){return t.reflect()})).then(function(t){var r,n,o,i,s;for(s=[],r=[],n=0,i=t.length;n<i;n++)o=t[n],o.isFulfilled()?s.push(o.value()):r.push(o.reason());if(r.length>0){if(_._.isFunction(e.error))return e.error.apply(e,r)}else if(_._.isFunction(e.success))return e.success.apply(e,s)}):_._.isFunction(e.success)?e.success(null):void 0},e}(_.Object);var z,I=q,H=function(t,e){function r(){this.constructor=t}for(var n in e)S.call(e,n)&&(t[n]=e[n]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t},S={}.hasOwnProperty;z=function(t){function e(){}return H(e,t),e.prototype.success=function(t,e){return null==e&&(e={}),e.type="success",this.log(t,e)},e.prototype.warn=function(t,e){return null==e&&(e={}),e.type="warn",this.log(t,e)},e.prototype.error=function(t,e){return null==e&&(e={}),e.type="error",this.log(t,e)},e.prototype.info=function(t,e){return null==e&&(e={}),e.type="info",this.log(t,e)},e.prototype.log=function(t,e){var r,n,o;if(null==e&&(e={}),n=e.force,o=e.type,_.env.isDevelopment()||n===!0){switch(o=o||"black",r="White",o){case"success":o="Green",r="LimeGreen";break;case"info":o="DodgerBlue",r="Turquoise";break;case"error":o="Red",r="Black";break;case"start":o="OliveDrab",r="PaleGreen";break;case"warning":o="Tomato",r="Black";break;case"end":o="Orchid",r="MediumVioletRed";break;default:o=o}r="White","object"==typeof t?console.log(t):console.log("%c"+t,"type:"+o+";font-weight:bold; background-type: "+r+";")}},e}(_.Object);var W,N=z,$=function(t,e){function r(){this.constructor=t}for(var n in e)Y.call(e,n)&&(t[n]=e[n]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t},Y={}.hasOwnProperty;W=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return $(e,t),e.prototype.router=function(){return this.getOption("router")},e.prototype.path=function(){return this.getOption("path")},e.prototype.actionName=function(){return this.getOption("actionName")},e.prototype.controller=function(){return this.getOption("controller")},e}(_.Object);var G,J=W,U=function(t,e){function r(){this.constructor=t}for(var n in e)K.call(e,n)&&(t[n]=e[n]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t},K={}.hasOwnProperty;G=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return U(e,t),e.prototype.onRoute=function(t,e,r){if(null!=this.controller&&_._.isFunction(this.controller.onRoute))return this.controller.onRoute(this,t,e,r)},e.prototype._setControllerFilters=function(t){var e,r;return null!=t&&(e={before:{},after:{}},r=t.filters,_._.isFunction(r)&&(r=r()),null==t.filters&&(t.filters={}),t.filters=_._.extend(e,r)),t},e.prototype._addAppRoute=function(t,e,r){var n,o;if(this.controller=this._setControllerFilters(t),n=t[r],o=function(t){return function(n){var o;if(t.controller.route=new _.AppRoute({controller:t.controller,actionName:r,path:e}),o=t._executeFilter(t.controller.filters.before,t.controller),o!==!1)return t.controller[r].apply(t.controller,t._getParams()),t._executeFilter(t.controller.filters.after,t.controller)}}(this),!o)throw new _.Marionette.Error('Method "'+r+'" was not found on the controller');return this.route(e,r,_._.bind(o,t))},e.prototype._executeFilter=function(t,e){var r,n,o,i,s,u,p;for(u=!0,s=_._.keys(t),n=0,o=s.length;n<o;n++)switch(i=s[n],r=t[i],p="Action halted by filter '"+i+"'",!1){case!_._.isFunction(r):if(u=r(e),u===!1){"undefined"!=typeof console&&null!==console&&console.warn(p);break}break;case!_._.isObject(r):if(u=this._proccessFilterObject(i,r,e),u===!1){"undefined"!=typeof console&&null!==console&&console.warn(p);break}}return u},e.prototype._getParams=function(){var t,e;return e=this._routeToRegExp(this.controller.route.getOption("path")),t=this._extractParameters(e,_.Backbone.history.getFragment())},e.prototype._proccessFilterObject=function(t,e,r){var n,o,i,s;if(i={method:null,only:[],except:[]},s=_._.extend(i,e),o=r[t],n=r.route.actionName(),!_._.isArray(s.only))throw"filter option only, most be an array";if(!_._.isArray(s.except))throw"filter option except, most be an array";if(s.only.length>0||s.except.length>0){if(_._.contains(s.only,n)&&!_._.contains(s.except,n)&&_._.isFunction(o))return o.apply(this.controller,this._getParams())}else if(_._.isFunction(o))return o.apply(this.controller,this._getParams())},e}(_.AppRouter);var Q,X,Z=G,tt=function(t,e){function r(){this.constructor=t}for(var n in e)et.call(e,n)&&(t[n]=e[n]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t},et={}.hasOwnProperty;X=u.Region.prototype.show,Q=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return tt(e,t),e.prototype.show=function(t,e){var r,n,o,i,s,u;if(e=e||{},o=e.preventDestroy===!0,s=e.transitionOut,delete e.transitionOut,r=[t,e],s===!1)return X.apply(this,r);if(n=this.currentView,i=function(t){return function(){return X.apply(t,r)}}(this),null!=n&&_._.isFunction(n.transitionOut)){if(n.triggerMethod("before:transition:out"),u=n.transitionOut(),null!=(null!=u?u.then:void 0))return u.then(function(t){return function(){return i()}}(this));throw"transitionOut method most return a promise"}return i()},e}(u.Region);var rt,nt=Q,ot=function(t,e){function r(){this.constructor=t}for(var n in e)it.call(e,n)&&(t[n]=e[n]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t},it={}.hasOwnProperty,st=[].slice;rt=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return ot(e,t),e.prototype.templateHelpers={pathFor:function(){var t,e;return t=1<=arguments.length?st.call(arguments,0):[],(e=_.utils).pathFor.apply(e,t)},_:_._,s:_.s,t:function(){var t,e;return t=1<=arguments.length?st.call(arguments,0):[],(e=_.I18n).t.apply(e,t)},formatCurrency:function(t,e){return null==e&&(e="$0,0.00"),_.numeral(t).format(e)},formatNumber:function(t,e){return null==e&&(e="0,0.00"),_.numeral(t).format(e)},formatPercentage:function(t,e){return null==e&&(e="0.00%"),_.numeral(t).format(e)},formatDate:function(t,e){return null==e&&(e="DD-MM-YYYY"),_.moment(t).format(e)}},e}(_.Object);var ut,pt=rt,ct=function(t,e){function r(){this.constructor=t}for(var n in e)lt.call(e,n)&&(t[n]=e[n]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t},lt={}.hasOwnProperty;ut=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return ct(e,t),e}(u.View);var at,ft=ut,ht=function(t,e){function r(){this.constructor=t}for(var n in e)yt.call(e,n)&&(t[n]=e[n]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t},yt={}.hasOwnProperty;at=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return ht(e,t),e}(u.CollectionView);var _t,dt=at,gt=function(t,e){function r(){this.constructor=t}for(var n in e)wt.call(e,n)&&(t[n]=e[n]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t},wt={}.hasOwnProperty;_t=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return gt(e,t),e}(o.Model);var bt,mt=_t,vt=function(t,e){function r(){this.constructor=t}for(var n in e)At.call(e,n)&&(t[n]=e[n]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t},At={}.hasOwnProperty;bt=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return vt(e,t),e}(o.Collection);var Ot,Ft=bt,Rt=function(t,e){function r(){this.constructor=t}for(var n in e)kt.call(e,n)&&(t[n]=e[n]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t},kt={}.hasOwnProperty,Ct=[].slice;Ot=function(t){function e(t){null==t&&(t={}),e.__super__.constructor.call(this,t),this._instance_id=_._.uniqueId("responder"),this.register(this,this._instance_id)}return Rt(e,t),e.prototype.loaderView=ft.extend({template:function(t){return _.config.templates.render("marionettist/loader",t,{defaultTemplate:"<div class='mri-loader'>\n  <div class='mri-loader__content'>\n    <i class=\"fa fa-spinner fa-spin fa-2x fa-fw\"></i>\n    <span class=\"sr-only\">Loading...</span>\n  </div>\n</div>"})}}),e.prototype.getLoaderView=function(){return null==this.get("loaderView")&&this.set({loaderView:new this.loaderView}),this.get("loaderView")},e.prototype.close=function(){var t;return t=1<=arguments.length?Ct.call(arguments,0):[],e.__super__.close.call(this,t),this.unregister(this,this._instance_id)},e.prototype.show=function(t,e){var r,n;return null==e&&(e={}),n=null!=e.region?e.region:this.get("region"),this.listenTo(t,"close",this.close),null!=e.async?(e.loaderView!==!1&&(r=this.getLoaderView(),this.listenTo(r,"close",this.close),n.show(r)),this.fetch().then(function(o){return function(){return e.loaderView!==!1&&n.currentView!==r?t.close():n.show(t)}}(this))):n.show(t)},e.prototype.defaults={params:{},async:[]},e.prototype.waitFor=function(){var t,e;return t=1<=arguments.length?Ct.call(arguments,0):[],(e=_.utils).waitFor.apply(e,t)},e.prototype.deferred=function(){return _.$.Deferred()},e.prototype.fetch=function(t){var e,r;return null==t&&(t={}),r=this.deferred(),e=_._.chain([this.get("async")]).flatten().compact().value(),this.waitFor(e,{success:function(){return _._.isFunction(t.success)&&t.success(),r.resolve()},error:function(){return _._.isFunction(t.error)&&t.error(),r.reject()}}),r.promise()},e.prototype.save=function(){return this.deferred().promise()},e.prototype.destroy=function(){return this.deferred().promise()},e.prototype.register=function(t,e){return null==this._registry&&(this._registry={}),this._registry[e]=t},e.prototype.unregister=function(t,e){return delete this._registry[e]},e.prototype.resetRegistry=function(){var t,e,r,n,o;r=this.getRegistrySize(),n=this._registry;for(t in n)o=n[t],o.region.close();return e="There were "+r+" responders in the registry, there are now "+this.getRegistrySize(),this.getRegistrySize()>0?console.warn(e,this._registry):console.log(e)},e.prototype.getRegistrySize=function(){return _._.size(this._registry)},e}(mt);var Mt,Pt=Ot,jt=function(t,e){function r(){this.constructor=t}for(var n in e)xt.call(e,n)&&(t[n]=e[n]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t},xt={}.hasOwnProperty;Mt=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return jt(e,t),e.prototype.responders=function(){return{base:Pt}},e.prototype.models=function(){return{base:mt}},e.prototype.collections=function(){return{base:Ft}},e.prototype.views=function(){return{}},e.prototype.getResponder=function(t,e){return null==e&&(e={}),this.getResource("responders",t,e)},e.prototype.getView=function(t,e){return null==e&&(e={}),this.getResource("views",t,e)},e.prototype.getModel=function(t,e){return null==e&&(e={}),this.getResource("models",t,e)},e.prototype.getCollection=function(t,e,r){return null==e&&(e=[]),null==r&&(r={}),this.getResource("collections",t,r,e)},e.prototype.getResource=function(t,e,r,n){var o,i;return null==r&&(r={}),o=null,i=this[t],_._.isFunction(i)&&(i=i()),null==r.viewModel&&(r.viewModel=this),_._.isObject(i)&&null!=i[e]&&(o=null!=n?new i[e](n,r):new i[e](r)),o},e}(o.Model);var Bt,Vt=Mt,qt=function(t,e){function r(){this.constructor=t}for(var n in e)Tt.call(e,n)&&(t[n]=e[n]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t},Tt={}.hasOwnProperty;Bt=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return qt(e,t),e.prototype.navigateTo=function(t,e){return null==e&&(e={}),_.location.navigateTo(t,e)},e.prototype.getCurrentRoute=function(){return _.location.getCurrentRoute()},e}(_.Object);var Et,Lt=Bt,Dt=function(t,e){function r(){this.constructor=t}for(var n in e)zt.call(e,n)&&(t[n]=e[n]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t},zt={}.hasOwnProperty;Et=function(t){function e(t){e.__super__.constructor.call(this,t),this._initChildApps(t),_._.result(this,"startAfterInitialized")&&this.start(t)}return Dt(e,t),e.prototype.Controllers=new _.Object,e.prototype.Entities=new _.Object,e.prototype.Views=new _.Object,e.prototype._isRunning=!1,e.prototype._isDestroyed=!1,e.prototype.preventDestroy=!1,e.prototype.startAfterInitialized=!1,e.prototype.startWithParent=!1,e.prototype.stopWithParent=!0,e.prototype.resources=[],e.prototype.startHistory=function(t){if(null==t&&(t={}),!_.Backbone.History.started)return _.location.startHistory(t)},e.prototype.start=function(t){return this.triggerMethod("before:resources:fetch",t),null==this.resources&&(this.resources=[]),_.utils.waitFor(this.resources,{success:function(r){return function(){return e.__super__.start.call(r,t),r.triggerMethod("resources:fetch:success"),r.triggerMethod("ready")}}(this),error:function(t){return function(){return t.triggerMethod("resources:fetch:error")}}(this)})},e.prototype.isRunning=function(){return this._isRunning},e.prototype.stop=function(t){return this._isRunning?(this.triggerMethod("before:stop",t),this._isRunning=!1,this.triggerMethod("stop",t),this):this},e.prototype._initChildApps=function(){var t,e;e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],this._childApps={},this.mergeOptions(e,["childApps","childAppOptions"]),t=this.childApps,t&&(_._.isFunction(t)&&(t=t.call(this,e)),this.addChildApps(t)),this._initListeners()},e.prototype._initListeners=function(){this.on({start:this._startChildApps,"before:stop":this._stopChildApps,"before:destroy":this._destroyChildApps})},e.prototype._startChildApps=function(t){return _._.each(this._childApps,function(e){if(_.utils.getValue(e.getOption("startWithParent"))===!0)return e.start(t)})},e.prototype._stopChildApps=function(t){return _._.each(this._childApps,function(e){if(_._.result(e,"stopWithParent"))return e.stop(t)})},e.prototype._destroyChildApps=function(t){return _._.each(this._childApps,function(e){if(!_._.result(e,"preventDestroy"))return e.destroy(t)})},e.prototype._buildAppFromObject=function(t){var e,r;return e=t.AppClass,r=_._.omit(t,"AppClass"),this.buildApp(e,r)},e.prototype._buildApp=function(t,e){return _._.isFunction(t)?this.buildApp(t,e):_._.isObject(t)?this._buildAppFromObject(t):void 0},e.prototype.buildApp=function(t,e){return e=_._.extend({},this.childAppOptions,e),new t(e)},e.prototype._ensureAppIsUnique=function(t){if(this._childApps[t])throw new Marionette.Error({name:"DuplicateChildAppError",message:'A child App with name "'+t+'" has already been added.'})},e.prototype.addChildApps=function(t){return _._.each(t,function(t,e){this.addChildApp(e,t)},this)},e.prototype.addChildApp=function(t,e,r){var n;if(this._ensureAppIsUnique(t),n=this._buildApp(e,r),!n)throw new Marionette.Error({name:"AddChildAppError",message:"App build failed.  Incorrect configuration."});return n._name=t,this._childApps[t]=n,n.on("destroy",_._.partial(this._removeChildApp,t),this),this.isRunning()&&_._.result(n,"startWithParent")&&n.start(),n},e.prototype.getName=function(){return this._name},e.prototype.getChildApps=function(){return _._.clone(this._childApps)},e.prototype.getChildApp=function(t){return this._childApps[t]},e.prototype._removeChildApp=function(t){delete this._childApps[t]._name,delete this._childApps[t]},e.prototype.removeChildApps=function(){var t;return t=this.getChildApps(),_._.each(this._childApps,function(t,e){this.removeChildApp(e)},this),t},e.prototype.removeChildApp=function(t,e){var r;if(e=_._.extend({},e),r=this.getChildApp(t))return e.preventDestroy||_._.result(r,"preventDestroy")?this._removeChildApp(t):r.destroy(),r},e.prototype.destroy=function(){},e}(_.Application);var It,Ht=Et;It=_.Object.extend(_.Backbone.Radio.Requests,{initialize:function(){}});var St=It,Wt=function(t,e){function r(){this.constructor=t}for(var n in e)Nt.call(e,n)&&(t[n]=e[n]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t},Nt={}.hasOwnProperty;return _.channels=new O,_.location=new C,_.Module=St,_.env=new b,_.config=new V,_.logger=new N,_._.extend(_.Renderer,T),_.utils=new I,_.AppRoute=J,_.AppRouter=Z,_._.extend(_.Region.prototype,nt.prototype),_.Views=new pt,_._.extend(_.View.prototype,{templateContext:function(){var t;return t=_.Views.templateHelpers}}),_.Views.BaseView=ft,_.Views.Collection=dt,_.Entities=new _.Object,_.Entities.Models=new _.Object,_.Entities.Collections=new _.Object,_.Entities.ViewModels=new _.Object,_.Entities.Responders=new _.Object,_.Entities.Models.Base=mt,_.Backbone.AssociatedModel&&(_.Entities.Models.Associated=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Wt(e,t),e}(_.Backbone.AssociatedModel)),_.Entities.Collections.Base=Ft,_.Entities.Responders.Base=Pt,_.Entities.ViewModels.Base=Vt,_.Controllers=new _.Object,_.Controllers.Base=Lt,_.Application=Ht,"undefined"!=typeof global&&null!==global&&(global.Marionettist=_),_});